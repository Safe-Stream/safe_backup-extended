# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞ Remnawave

## üöÄ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ù–∞ —Å—Ç–∞—Ä–æ–º —Å–µ—Ä–≤–µ—Ä–µ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –±—ç–∫–∞–ø–∞:**
   
   > **üí° –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ä—è–¥–æ–º —Å –Ω–∏–º –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
   
   **–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**
   ```bash
   curl -o install.sh https://raw.githubusercontent.com/Safe-Stream/safe_backup-extended/main/install.sh && chmod +x install.sh && sudo ./install.sh
   ```
   
   **–ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:**
   ```bash
   # –°–∫–∞—á–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
   curl -o install.sh https://raw.githubusercontent.com/Safe-Stream/safe_backup-extended/main/install.sh
   
   # –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
   chmod +x install.sh
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å –ø—Ä–∞–≤–∞–º–∏ root
   sudo ./install.sh
   ```
   
   **–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –≤–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ:**
   - ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä—è–¥–æ–º** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - –æ–±–∞ —Å–∫—Ä–∏–ø—Ç–∞ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã
   - üîÑ **–ó–∞–º–µ–Ω–∏—Ç—å —Å —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ–º** - —Å–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ –∏ –∑–∞–º–µ–Ω–∏—Ç—å
   - ‚ùå **–û—Ç–º–µ–Ω–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É**
   
   **–ö–æ–º–∞–Ω–¥—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
   - `rw-backup` - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (–µ—Å–ª–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω)
   - `rw-backup-extended` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç: `rw-backup-extended`
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç "1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞ —Å–µ—Ä–≤–µ—Ä–∞"
   - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –∏ –∑–∞–∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç:
     - –í—Å–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (remnawave-db, remnawave-tg-shop-db)
     - Redis/Valkey –¥–∞–Ω–Ω—ã–µ
     - Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
     - Nginx –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
     - –í—Å–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

3. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞:**
   - –ë—ç–∫–∞–ø –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `/opt/rw-backup-restore/backup/`
   - –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `remnawave_full_backup_YYYY-MM-DD_HH_MM_SS.tar.gz`

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### –ù–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ:

1. **–ë–∞–∑–æ–≤–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
   ```bash
   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
   sudo apt update && sudo apt upgrade -y
   
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
   sudo apt install -y curl wget git ufw
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ):**
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
   curl -fsSL https://get.docker.com -o get-docker.sh
   sudo sh get-docker.sh
   sudo systemctl enable docker
   sudo systemctl start docker
   
   # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   sudo usermod -aG docker $USER
   ```

3. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
   sudo snap install --classic certbot
   sudo ln -s /snap/bin/certbot /usr/bin/certbot
   
   # –í–ê–ñ–ù–û: –°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø—Ä–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä!
   # –ó–∞—Ç–µ–º –ø–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
   sudo certbot --nginx -d panel.yourdomain.com -d api.yourdomain.com -d shop.yourdomain.com
   ```

4. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:**
   
   **–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:**
   ```bash
   curl -o install.sh https://raw.githubusercontent.com/Safe-Stream/safe_backup-extended/main/install.sh && chmod +x install.sh && sudo ./install.sh
   ```
   
   **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
   - –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å GitHub
   - –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

5. **–ó–∞–≥—Ä—É–∑–∫–∞ –±—ç–∫–∞–ø–∞ –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   # –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±—ç–∫–∞–ø–æ–≤
   sudo mkdir -p /opt/rw-backup-restore/backup
   
   # –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –±—ç–∫–∞–ø–∞ –≤ —ç—Ç—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é  
   sudo cp /path/to/remnawave_full_backup_*.tar.gz /opt/rw-backup-restore/backup/
   ```

---

## üì¶ –ü—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### –ó–∞–ø—É—Å–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:**
   ```bash
   rw-backup-extended
   ```

2. **–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç "2. –ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞"**

3. **–ü—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∫–ª—é—á–∞–µ—Ç:**
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
   - ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
   - ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
   - ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Redis –¥–∞–Ω–Ω—ã—Ö
   - ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
   - ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
   - ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üåê –§–∏–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

1. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ DNS –∑–∞–ø–∏—Å–µ–π:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, Cloudflare)
   - –ò–∑–º–µ–Ω–∏—Ç–µ A-–∑–∞–ø–∏—Å–∏ –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ –Ω–∞ IP –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
     - `panel.yourdomain.com` ‚Üí –Ω–æ–≤—ã–π IP
     - `api.yourdomain.com` ‚Üí –Ω–æ–≤—ã–π IP
     - `shop.yourdomain.com` ‚Üí –Ω–æ–≤—ã–π IP
     - –ò –¥—Ä—É–≥–∏–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall:**
   ```bash
   # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ä—Ç—ã
   sudo ufw allow 22/tcp       # SSH
   sudo ufw allow 80/tcp       # HTTP
   sudo ufw allow 443/tcp      # HTTPS
   sudo ufw allow 2222/tcp     # Remnawave API (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø)
   
   # –í–∫–ª—é—á–µ–Ω–∏–µ firewall
   sudo ufw --force enable
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:**
   ```bash
   docker ps
   ```
   
   –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   - remnawave
   - remnawave-db
   - remnawave-redis
   - remnawave-nginx
   - remnawave-subscription-page
   - remnawave-telegram-mini-app
   - remnawave-tg-shop
   - remnawave-tg-shop-db

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤:**
   - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: `https://panel.yourdomain.com`
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–∫–∏: `https://shop.yourdomain.com`
   - Telegram –±–æ—Ç: –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥ - –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:**
```bash
# 1. –°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø—Ä–∞–≤—å—Ç–µ –≤—Å–µ –¥–æ–º–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
# 2. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DNS (–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: nslookup panel.yourdomain.com)
# 3. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
sudo certbot --nginx -d panel.yourdomain.com -d api.yourdomain.com -d shop.yourdomain.com

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
sudo crontab -e
# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É: 0 12 * * * /usr/bin/certbot renew --quiet
```

**–ï—Å–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ –∏–∑ –±—ç–∫–∞–ø–∞ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo certbot renew --force-renewal

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx
sudo systemctl reload nginx
# –∏–ª–∏ –¥–ª—è Docker:
docker restart remnawave-nginx
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–æ–≤:

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –±–æ—Ç–∞
docker logs remnawave-tg-shop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker exec remnawave-tg-shop env | grep -E "(BOT_TOKEN|API)"

# –¢–µ—Å—Ç –±–æ—Ç–∞ - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /start –≤ Telegram
```

**–ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Telegram API
curl -s "https://api.telegram.org/bot<–í–ê–®_TOKEN>/getMe"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
docker restart remnawave-tg-shop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç–∞
docker exec -it remnawave-tg-shop-db psql -U postgres -c "\dt"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–æ–≤:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤
docker logs remnawave
docker logs remnawave-nginx
docker logs remnawave-tg-shop
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –Ω–æ–¥:

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–Ω–µ—à–Ω–∏–µ –Ω–æ–¥—ã, –æ–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ firewall –Ω–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ:
```bash
# –ù–∞ –∫–∞–∂–¥–æ–π –≤–Ω–µ—à–Ω–µ–π –Ω–æ–¥–µ
sudo ufw delete allow from OLD_SERVER_IP to any port 2222
sudo ufw allow from NEW_SERVER_IP to any port 2222
```

---

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–∏

- [ ] –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –Ω–∞ —Å—Ç–∞—Ä–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –°–∫–∞—á–∞–Ω —Ñ–∞–π–ª –±—ç–∫–∞–ø–∞
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
- [ ] –ó–∞–≥—Ä—É–∂–µ–Ω —Ñ–∞–π–ª –±—ç–∫–∞–ø–∞ –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- [ ] –ò–∑–º–µ–Ω–µ–Ω—ã DNS –∑–∞–ø–∏—Å–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω firewall
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤–Ω–µ—à–Ω–∏–µ –Ω–æ–¥—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ Telegram –±–æ—Ç–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–∫–∏

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è:** –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–π–º–µ—Ç –æ—Ç 15 –¥–æ 60 –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
2. **Backup:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –±—ç–∫–∞–ø–∞ –≤ –Ω–∞–¥–µ–∂–Ω–æ–º –º–µ—Å—Ç–µ
3. **DNS propagation:** –ò–∑–º–µ–Ω–µ–Ω–∏—è DNS –º–æ–≥—É—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è –¥–æ 24 —á–∞—Å–æ–≤
4. **Testing:** –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
5. **Monitoring:** –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ –ø–µ—Ä–≤—ã–µ –¥–Ω–∏ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

---

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
sudo systemctl status docker
sudo systemctl start docker

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
cd /opt/remnawave  # –∏–ª–∏ –≤–∞—à –ø—É—Ç—å –∫ compose —Ñ–∞–π–ª–∞–º
docker-compose down
docker-compose up -d
```

### –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ë–î
docker logs remnawave-db
docker logs remnawave-tg-shop-db

# –†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
zcat backup_file.sql.gz | docker exec -i remnawave-db psql -U postgres
```

### –ï—Å–ª–∏ SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx
docker logs remnawave-nginx

# –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo certbot --nginx --force-renewal
```

–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–µ—Å–ø–µ—á–∏—Ç –ø–æ–ª–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –≤–∞—à–µ–≥–æ Remnawave —Å–µ—Ä–≤–µ—Ä–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫, –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π!

---

## üîÑ –°–æ–≤–º–µ—Å—Ç–Ω–æ—Å—Ç—å —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º

### –ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –æ–±–∞ —Å–∫—Ä–∏–ø—Ç–∞:

**–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –±—ç–∫–∞–ø):**
```bash
rw-backup                    # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
/opt/rw-backup-restore/      # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
```

**–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (–ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø —Å–µ—Ä–≤–µ—Ä–∞):**  
```bash
rw-backup-extended           # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
/opt/rw-backup-restore/      # –¢–∞ –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (—Å–æ–≤–º–µ—Å—Ç–Ω–æ)
```

### –û–±—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã:
- ‚úÖ **–ü–∞–ø–∫–∞ —Å –±—ç–∫–∞–ø–∞–º–∏**: `/opt/rw-backup-restore/backup/` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–æ–∏–º–∏
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram**: –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- ‚úÖ **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±—ç–∫–∞–ø—ã**: –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `rw-backup-extended --backup full`
2. **–î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `rw-backup-extended --restore full`  
3. **–°—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã**: –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ª—é–±—ã–º –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤
4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏

### –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω):
```bash
# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–º–µ–Ω–µ
# –ù–∞–π—Ç–∏: /opt/rw-backup-restore-original-YYYYMMDD-HHMMSS/

# –†—É—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
sudo rm -f /usr/local/bin/rw-backup
```